#! /bin/sh

pgrep -x sxhkd > /dev/null || sxhkd &

bspc monitor DP-0 -d 1
bspc monitor DP-2 -d 2 3 4 5
bspc monitor HDMI-0 -d 6

# source pywal colors
. "${HOME}/.cache/wal/colors.sh"

bspc config normal_border_color "$color0"
bspc config active_border_color "$color6"
bspc config focused_border_color "$color7"

bspc config border_width          0
bspc config window_gap            12
bspc config ignore_ewmh_focus     true
bspc config split_ratio           0.5
bspc config borderless_monocle    true
bspc config gapless_monocle       false
bspc config focus_follows_pointer true
bspc config pointer_modifier      control

# Rules
bspc rule -a pentablet desktop='6' follow=off focus=off
bspc rule -a krita desktop='6' follow=off focus=off
bspc rule -a Xournalpp desktop='6' follow=off focus=off
bspc rule -a zoom desktop='4' follow=off focus=off

# Init compositor
picom &
# Set wallpapers
nitrogen --restore &
wal -R -n &
# Set monitor layout
xrandr --output DP-2 --primary --pos 0x1440 --output DP-0 --pos 420x0 --output HDMI-0 --pos 760x2880 &

# Polybar
bash ~/.config/polybar/launch.sh &

#
# Launch things
#

pgrep -x /usr/lib/pentablet/pentablet > /dev/null || bash /usr/lib/pentablet/pentablet.sh &
