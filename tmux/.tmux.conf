set -g default-terminal "tmux-256color"
set -g base-index 1
set -g mouse on
set -g main-pane-width 60%
set-option -sg escape-time 10
set-option -sa terminal-features ',xterm*:RGB'
set -g terminal-overrides ',xterm*:RGB'
set-window-option -g mode-keys vi
set-option -g status-position top

bind '_' split-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}" -l 32%
bind c new-window -c "#{pane_current_path}"
bind r source-file ~/.tmux.conf
bind Escape send-keys -R
bind-key -r f run-shell "tmux neww ~/.local/bin/tmux-sessionizer"

set -g @catppuccin_flavor 'latte' # latte, frappe, macchiato or mocha

set -g @catppuccin_window_text " #W"
set -g @catppuccin_window_current_text " #W"

set -g @catppuccin_status_date_time_icon "ó°¥” "
set -g @catppuccin_date_time_text " %H:%M"

run ~/.config/tmux/plugins/catppuccin/tmux/catppuccin.tmux

# Make the status line more pleasant.
set -g status-left ""
set -g status-right "#{E:@catppuccin_status_session}#{E:@catppuccin_status_date_time}"

# Ensure that everything on the right side of the status line
# is included.
set -g status-right-length 100

# This is really dumb, and should just work but doesn't?
set-hook -g after-new-window 'run-shell "tmux set -g @catppuccin_window_text \"#(tmux display -p \"#{?#{==:#{window_name},},#{pane_current_command},#{window_name}}\")\" "'
set-hook -g pane-focus-in 'run-shell "tmux set -g @catppuccin_window_current_text \"#(tmux display -p \"#{?#{==:#{window_name},},#{pane_current_command},#{window_name}}\")\" "'
